<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Classy Modern Smart watch Page</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body class="bg-gray-50">
    <div class="container mx-auto p-4 my-8 sm:my-20">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
        <!-- Product Image -->
        <div class="rounded-lg flex items-center justify-center">
          <img
            id="mainImage"
            src="https://i.ibb.co/f8XyF56/perpul.png"
            alt="Fitness Tracker"
            class="w-full max-w-[40rem] object-cover"
          />
        </div>

        <!-- Product Details -->
        <div class="space-y-6">
          <h1 class="text-3xl font-bold text-gray-800">
            Classy Modern Smart watch
          </h1>

          <!-- Rating -->
          <div class="flex items-center gap-2">
            <div class="flex">
              <i class="fas fa-star text-yellow-400"></i>
              <i class="fas fa-star text-yellow-400"></i>
              <i class="fas fa-star text-yellow-400"></i>
              <i class="fas fa-star-half-alt text-yellow-400"></i>
              <i class="far fa-star text-yellow-400"></i>
            </div>
            <span class="text-gray-500">(2 Reviews)</span>
          </div>

          <!-- Price -->
          <div class="flex items-center gap-3">
            <span class="text-gray-400 line-through">$99.00</span>
            <span class="text-2xl font-bold text-[#6576FF]">$79.00</span>
          </div>

          <!-- Product Info -->
          <div class="text-[#8091A7]">
            <p>
              I must explain to you how all this mistaken idea of denoun cing
              ple praising <br> pain was born and I will give you a complete account
              of the system, and <br> expound the actual teaching.
            </p>
          </div>
          <div class="flex gap-4">
            <div>
              <span class="text-gray-500">Type</span>
              <p class="font-medium text-[#364A63]">Watch</p>
            </div>
            <div>
              <span class="text-gray-500">Model Number</span>
              <p class="font-medium text-[#364A63]">Forerunner 290XT</p>
            </div>
          </div>

          <!-- Band Color -->
          <div>
            <h3 class="text-lg font-medium mb-2 text-[#364A63]">Band Color</h3>
            <div class="flex gap-3">
              <button
                class="w-4 h-4 rounded-full bg-purple-400 ring-2 ring-offset-2 ring-purple-400"
                data-color="purple"
                data-image="https://i.ibb.co/f8XyF56/perpul.png"
              ></button>
              <button
                class="w-4 h-4 rounded-full bg-cyan-400"
                data-color="cyan"
                data-image="https://i.ibb.co/VDhsLR5/cyan.png"
              ></button>
              <button
                class="w-4 h-4 rounded-full bg-[#4B97D3]"
                data-color="blue"
                data-image="https://i.ibb.co/XFjZ88g/purple.png"
              ></button>
              <button
                class="w-4 h-4 rounded-full bg-gray-800"
                data-color="black"
                data-image="https://i.ibb.co/3NLSXk3/black.png"
              ></button>
            </div>
          </div>

          <!-- Wrist Size -->
          <div>
            <h3 class="text-lg font-medium mb-2">Wrist Size</h3>
            <div class="flex gap-3">
              <button
                class="px-4 py-2 border rounded-lg hover:border-[#6576FF] border-[#6576FF] border-2"
                data-size="S"
              >
                S <span class="text-sm text-gray-500">$69</span>
              </button>
              <button
                class="px-4 py-2 border rounded-lg hover:border-[#6576FF]"
                data-size="M"
              >
                M <span class="text-sm text-gray-500">$79</span>
              </button>
              <button
                class="px-4 py-2 border rounded-lg hover:border-[#6576FF]"
                data-size="L"
              >
                L <span class="text-sm text-gray-500">$89</span>
              </button>
              <button
                class="px-4 py-2 border rounded-lg hover:border-[#6576FF]"
                data-size="XL"
              >
                XL <span class="text-sm text-gray-500">$99</span>
              </button>
            </div>
          </div>
          <div class="flex  gap-4">
            <!-- Quantity -->
            <div class="flex items-center gap-4">
              <label for="quantity" class="sr-only">Quantity</label>
              <div class="relative flex items-center max-w-[8rem] ">
                <button id="decreaseBtn" type="button" class="bg-gray-100 hover:bg-gray-200 border border-gray-300 rounded-l-lg p-3 h-11 focus:ring-gray-100 focus:ring-2 focus:outline-none">
                  <svg class="w-3 h-3 text-gray-900" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 2">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h16"/>
                  </svg>
                </button>
                <input type="text" id="quantity" class="bg-gray-50 border-x-0 border-gray-300 h-11 text-center text-gray-900 text-sm block w-full py-2.5 bg-gray-100 hover:bg-gray-200 border border-gray-300 p-3 h-11 " value="0" readonly>
                <button id="increaseBtn" type="button" class="bg-gray-100 hover:bg-gray-200 border border-gray-300 rounded-r-lg p-3 h-11 focus:ring-gray-100 focus:ring-2 focus:outline-none">
                  <svg class="w-3 h-3 text-gray-900" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
                  </svg>
                </button>
              </div>
            </div>

            <!-- Add to Cart -->
            <div class="flex gap-4 ">
              <button id="addToCartBtn" class="px-8 py-3 bg-[#6576FF] text-white rounded-lg hover:bg-[#6576FF] flex-grow">
                Add to Cart
              </button>
              <button class="p-3 border rounded-lg hover:bg-gray-50">
                <i class="far fa-heart"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Floating Checkout Button -->
    <div
      id="checkoutBtn"
      class="fixed bottom-4 right-[45%] bg-[#FFBB5A] text-[#364A63] px-6 py-3 rounded-full hidden cursor-pointer shadow-lg"
    >
      Checkout <span id="cartCount" class="ml-1 bg-[#FFFFFF] py-[2px] px-[8px] rounded-[5px]">0</span>
    </div>

    <!-- Cart Modal -->
    <div
      id="cartModal"
      class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center"
    >
      <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-xl font-semibold">Your Cart</h2>
          <button
            onclick="closeModal()"
            class="text-gray-500 hover:text-gray-700"
          >
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="flex items-center border-b mb-4 pb-4">
            <div class="flex items-center gap-2 w-1/2">
              <p class="font-medium text-[#8091A7]">Item</p>
            </div>
            <div class="flex-1 grid grid-cols-4 gap-2 items-center">
              <div class="text-center text-[#8091A7]">Color</div>
              <div class="text-center text-[#8091A7]">Size</div>
              <div class="text-center text-[#8091A7]">Qnt</div>
              <div class="text-center text-[#8091A7]">Price</div>
            </div>
          </div>
  
  

        <div class="space-y-4" id="cartItemsList">
          <!-- Cart items will be inserted here -->
        </div>

        <div class="mt-6 pt-4 ">
          <div class="flex justify-between items-center mb-4">
            <span class="font-bold text-[#364A63]">Total</span>
            <span class="font-bold text-[#364A63] text-2xl" id="modalTotal">$0.00</span>
          </div>
          <div class="flex gap-4">
            <button
              onclick="closeModal()"
              class="flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50"
            >
              Continue Shopping
            </button>
            <button
              class="flex-1 px-4 py-2 bg-[#6576FF] text-white rounded-lg hover:bg-[#6576FF]"
            >
              Checkout
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // All Variables i need 
      const cartModal = document.getElementById("cartModal");
      const cartItemsList = document.getElementById("cartItemsList");
      const modalTotal = document.getElementById("modalTotal");
      const quantity = document.getElementById("quantity");
      const decreaseBtn = document.getElementById("decreaseBtn");
      const increaseBtn = document.getElementById("increaseBtn");
      const addToCartBtn = document.getElementById("addToCartBtn");
      const checkoutBtn = document.getElementById("checkoutBtn");
      const cartCount = document.getElementById("cartCount");
      const mainImage = document.getElementById("mainImage");
      let cartItems = [];
      let count = 0;

      // Color selection 
      const colorBtns = document.querySelectorAll("[data-color]");
      colorBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          colorBtns.forEach((b) =>
            b.classList.remove("ring-2", "ring-offset-2")
          );
          btn.classList.add("ring-2", "ring-offset-2");
          mainImage.src = btn.dataset.image;
        });
      });

      // Size selection
      const sizeBtns = document.querySelectorAll("[data-size]");
      sizeBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          sizeBtns.forEach((b) =>
            b.classList.remove("border-[#6576FF]", "border-2")
          );
          btn.classList.add("border-[#6576FF]", "border-2");
        });
      });

      // Set default selected size to 'S'
      document.querySelector("[data-size='S']").classList.add("border-[#6576FF]", "border-2");

      // Quantity controls
      decreaseBtn.addEventListener("click", () => {
        if (count > 0) {
          count--;
          quantity.value = count;
        }
      });

      increaseBtn.addEventListener("click", () => {
        count++;
        quantity.value = count;
      });

      // Add to cart
      addToCartBtn.addEventListener("click", () => {
        if (count > 0) {
          const selectedColor = document.querySelector("[data-color].ring-2").dataset.color;

          const selectedImage = document.querySelector("[data-color].ring-2").dataset.image;

          const selectedSizeElement = Array.from(document.querySelectorAll("[data-size]")).find(sizes => sizes.classList.contains("border-[#6576FF]"));
          const selectedSize = selectedSizeElement ? selectedSizeElement.dataset.size : "S";
          const price = getPrice(selectedSize);

   
          console.log("Selected Size:", selectedSize);

          cartItems.push({
            name: "Classy Modern Smart watch",
            color: selectedColor,
            size: selectedSize,
            quantity: count,
            price: price,
            image: selectedImage,
          });

          const totalItems = cartItems.reduce(
            (sum, item) => sum + item.quantity,
            0
          );
          cartCount.textContent = totalItems;
          checkoutBtn.classList.remove("hidden");

          count = 0;
          quantity.value = count;

          alert("Added to cart successfully!");
        }
      });

      // Checkout button
      checkoutBtn.addEventListener("click", () => {
        updateCartModal();
        cartModal.classList.remove("hidden");
      });

      function closeModal() {
        cartModal.classList.add("hidden");
      }

      function getPrice(size) {
        const prices = {
          S: 69,
          M: 79,
          L: 89,
          XL: 99,
        };
        return prices[size] || 79;
      }

      function updateCartModal() {
        cartItemsList.innerHTML = "";
        let total = 0;

        cartItems.forEach((item, index) => {
          const itemTotal = item.price * item.quantity;
          total += itemTotal;

          cartItemsList.innerHTML += `
                    <div class="flex items-center  border-b pb-4">
              <div class="flex items-center gap-2 w-1/2">
                <img src="${item.image}" alt="Product" class="w-16 h-16 rounded object-cover bg-gray-900">
                <p class="font-medium text-[#8091A7]">${item.name}</p>
              </div>
              <div class="flex-1 grid grid-cols-4 gap-2 items-center">
                <div class="text-center capitalize text-[#8091A7]">${item.color}</div>
                <div class="font-bold text-center text-[#364A63]">${item.size}</div>
                <div class="font-bold text-center text-[#364A63]">${item.quantity}</div>
                <div class="font-bold text-center text-[#364A63]">$${(item.price * item.quantity).toFixed(2)}</div>
              </div>
            </div>
                `;
        });

        modalTotal.textContent = `$${total.toFixed(2)}`;
      }

      // Close modal when clicking outside
      cartModal.addEventListener("click", (e) => {
        if (e.target === cartModal) {
          closeModal();
        }
      });
    </script>
  </body>
</html>

